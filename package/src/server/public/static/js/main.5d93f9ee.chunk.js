(this.webpackJsonpwebsite=this.webpackJsonpwebsite||[]).push([[0],{137:function(e,t,n){},163:function(e,t,n){},165:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(14),s=n.n(r),o=n(16),c=n(15),l=n(21),d=n(20),u=(n(137),n(44)),h=n(216),b=n(207),j=n(210),v=n(168),p=n(217),m=n.p+"static/media/elabLogo.6161d4d0.svg",f=n(7),g=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e={padding:"2vh 0.5vw"};return Object(f.jsx)(b.a,{position:"static",children:Object(f.jsxs)(j.a,{children:[Object(f.jsx)("div",{style:e,children:Object(f.jsx)(v.a,{variant:"h4",style:{paddingLeft:"10vw",paddingRight:"0.2vw"},children:Object(f.jsx)(p.a,{fontWeight:"fontWeightBold",children:"Limes Portal"})})}),Object(f.jsx)("img",{src:m,alt:"eLab",height:"40vw",width:"40vw"}),Object(f.jsx)("div",{style:e,children:Object(f.jsx)(v.a,{variant:"subtitle1",children:"Powered by eLab"})})]})})}}]),n}(i.a.Component),O=n(6),y=n(218),x=n(211),k=n(212),w=n(85),C=n(51),S=n(215),P=n(171),L=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).passwordRef=void 0,a.loginRef=void 0,a.defaultLabel="",a.elabService=void 0,a.state={username:"",password:"",open:!0,error:!1,label:a.defaultLabel,loading:!1,tried:!1},a.elabService=e.elabService,a}return Object(c.a)(n,[{key:"loginFailed",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.setState({error:!0,label:e,loading:!1,tried:t})}},{key:"loginSuccess",value:function(){this.setState({open:!1,loading:!1,tried:!1})}},{key:"login",value:function(){var e=this;this.state.tried||(this.setState({label:"",loading:!0}),this.state.username&&this.state.password?this.elabService.Login(this.state.username,this.state.password).then((function(t){var n=Object(O.a)(t,2),a=n[0],i=n[1];a?e.loginSuccess():e.loginFailed(i)})).catch((function(t){console.error(t),e.loginFailed("string"===typeof t?t:"No response. Are you on the UBC network?",!1)})):this.loginFailed("fields cannot be empty"))}},{key:"onClose",value:function(){}},{key:"render",value:function(){var e=this,t={},n={width:"100%",marginBottom:"1em"},a=[{name:"username",label:"Username",placeholder:"username",onchange:function(t){e.setState({error:!1,tried:!1,username:t.target.value})}},{name:"password",label:"Password",placeholder:"*****",type:"password",onchange:function(t){e.setState({error:!1,tried:!1,password:t.target.value})},onkeydown:function(t){var n;"Enter"===t.key&&(null===(n=e.loginRef)||void 0===n||n.focus())}}];return Object(f.jsx)(y.a,{open:this.state.open,onClose:this.onClose,style:{},children:Object(f.jsx)(x.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{outline:"transparent",height:"100%"},children:Object(f.jsx)(k.a,{style:{outline:"transparent",padding:"1em 2em 1.2em 2em",width:"25em"},children:Object(f.jsxs)(x.a,{container:!0,justify:"center",direction:"column",style:{},spacing:0,children:[Object(f.jsx)(v.a,{variant:"h5",component:"h2",align:"center",style:t,children:"Login"}),Object(f.jsx)(v.a,{variant:"subtitle1",align:"center",color:"error",style:t,children:this.state.label}),Object(f.jsx)(x.a,{item:!0,container:!0,justifyContent:"center",direction:"column",children:Object(f.jsx)("form",{children:a.map((function(t){return Object(f.jsx)(x.a,{item:!0,children:Object(f.jsx)(w.a,{label:t.label,name:t.name,placeholder:t.placeholder,style:n,type:t.type,error:e.state.error,onChange:t.onchange,onKeyDown:t.onkeydown})},t.name)}))})}),Object(f.jsx)(x.a,{container:!0,justify:"center",children:Object(f.jsxs)(C.a,{variant:"contained",color:"primary",style:{width:"10em"},disabled:this.state.loading,onClick:function(){e.login()},ref:function(t){e.loginRef=t},children:["Login",Object(f.jsx)(S.a,{in:this.state.loading,children:Object(f.jsx)(P.a,{size:20,thickness:5,style:{position:"absolute"}})})]})})]})})})})}}]),n}(i.a.Component),T=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return n}(L),R=T,q=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(o.a)(this,n),(a=t.call(this,e)).mainText=void 0,a.onClick=void 0,a.settings=void 0;var i=e.settings;return a.settings=e.settings,a.mainText=i.name,a.state={disabled:i.disabled,cardStyle:{width:"200px",height:"200px",border:"2px solid transparent",background:i.disabled?"lightgrey":"",cursor:i.disabled?"":"pointer"}},a.onClick=e.onClick,a}return Object(c.a)(n,[{key:"onHover",value:function(){if(!this.state.disabled){var e={};Object.assign(e,this.state.cardStyle),e.border="2px solid ".concat(this.props.theme.palette.primary.main),this.setState({cardStyle:e})}}},{key:"onLeave",value:function(){if(!this.state.disabled){var e={};Object.assign(e,this.state.cardStyle),e.border="2px solid transparent",this.setState({cardStyle:e})}}},{key:"render",value:function(){var e=this;return Object(f.jsx)(k.a,{style:this.state.cardStyle,onClick:this.state.disabled?function(){}:function(){return e.onClick(e.settings)},onMouseEnter:function(){e.onHover()},onMouseLeave:function(){e.onLeave()},children:Object(f.jsx)(x.a,{container:!0,spacing:0,justifyContent:"center",alignItems:"center",direction:"column",style:{height:"100%"},children:Object(f.jsx)(x.a,{item:!0,children:Object(f.jsx)(v.a,{variant:"h5",component:"h2",children:this.mainText})})})})}}]),n}(i.a.Component),A=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).cardClicked=void 0,a.state={functions:e.functions},a.cardClicked=e.clicked,a}return Object(c.a)(n,[{key:"render",value:function(){var e=this;return Object(f.jsx)(x.a,{style:{marginTop:"10vh"},children:Object(f.jsx)(x.a,{container:!0,justifyContent:"center",spacing:5,children:this.state.functions.map((function(t){return Object(f.jsx)(x.a,{item:!0,children:Object(f.jsx)(q,{theme:e.props.theme,settings:t,onClick:e.cardClicked})},t.name)}))})})}}]),n}(i.a.Component),I=n(108),N=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={samples:[{id:123,name:"a"},{id:456,name:"b"}],sampleRaw:"",printDisabled:!0,printAllDisabled:!1},a}return Object(c.a)(n,[{key:"onSampleInputChanged",value:function(e){var t=e.target.value;this.setState({sampleRaw:t})}},{key:"onPrint",value:function(){}},{key:"onPrintAll",value:function(){console.log(this.state.sampleRaw)}},{key:"render",value:function(){var e=this,t={marginTop:"2vh",marginLeft:"1vw",marginRight:"1vw"};return Object(f.jsx)(x.a,{container:!0,justifyContent:"center",style:{marginTop:"5vh",justifyContent:"center",alignItems:"center",alignContent:"center"},children:Object(f.jsxs)(k.a,{style:{padding:"2vw"},children:[Object(f.jsx)(v.a,{variant:"h5",component:"h2",align:"left",gutterBottom:!0,style:{},children:"Print Samples"}),Object(f.jsx)(w.a,{id:"samplesInput",label:"Samples",placeholder:"1234567\nhttps://elab.msl.ubc.ca/... /sampleID=1234567\n...",multiline:!0,variant:"outlined",style:{width:"80vw",marginTop:"1vh"},onChange:function(t){e.onSampleInputChanged(t)}}),Object(f.jsx)(x.a,{style:{height:"50vh",marginTop:"1vh"},children:Object(f.jsx)(I.a,{rows:this.state.samples,columns:[{field:"id",headerName:"Barcode",width:150},{field:"name",headerName:"Name",width:150}],rowsPerPageOptions:[100],onPageSizeChange:function(){},checkboxSelection:!0,disableSelectionOnClick:!0})}),Object(f.jsxs)(x.a,{children:[Object(f.jsx)(C.a,{variant:"contained",color:"primary",disabled:this.state.printDisabled,style:t,onClick:function(){return e.onPrint()},children:"Print"}),Object(f.jsx)(C.a,{variant:"contained",color:"primary",disabled:this.state.printAllDisabled,style:t,onClick:function(){return e.onPrintAll()},children:"Print All"})]})]})})}}]),n}(i.a.Component),B=n(110),U=n.n(B),D=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Object(o.a)(this,e),this.baseUrl=void 0,this.requester=void 0,this.baseUrl=t,this.requester=U.a}return Object(c.a)(e,[{key:"genUrl",value:function(e){var t="".concat(this.baseUrl,"/").concat(e);return t.endsWith("/")?t.substring(0,t.length-1):t}},{key:"POST",value:function(e){var t=e.path,n=void 0===t?"":t,a=e.body,i=void 0===a?{}:a;return this.requester.post(this.genUrl(n),i)}}]),e}(),F=function(){function e(){Object(o.a)(this,e),this.token=void 0,this.requester=void 0,this.requester=new D("api/d1/call"),this.token=""}return Object(c.a)(e,[{key:"genRequest",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{ProviderName:"elab",RequestPayload:{TargetEndpoint:e,Method:t,Body:n}}}},{key:"Login",value:function(e,t){var n=this;return this.requester.POST({body:this.genRequest("auth/user","POST",{username:e,password:t})}).then((function(e){var t=e.data.ResponsePayload;switch(console.log(t),t.Code){case 200:return n.token=t.Body.token,[!0,n.token];case 401:return[!1,"Incorrect username/password"];default:return Promise.reject("Oops, something crashed, please tell Tony...")}}))}}]),e}(),E=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return n}(F),M=E,W=Object(u.b)({palette:{primary:{main:"#00abab",contrastText:"white"},secondary:{main:"#98ff6d"},contrastThreshold:3,tonalOffset:.2}}),z=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(o.a)(this,n),(a=t.call(this,e)).defaultActiveComponent=void 0,a.elabService=void 0,a.elabService=new M;var i=function(){return Object(f.jsx)(N,{elabService:a.elabService})},r=[{name:"Print",disabled:!1,makeNextPage:i},{name:"Scanner coming soon!",disabled:!0}];return a.defaultActiveComponent=Object(f.jsx)(A,{theme:W,functions:r,clicked:function(e){return a.toFunctionPage(e)}}),a.state={activeComponent:a.defaultActiveComponent},a}return Object(c.a)(n,[{key:"toFunctionPage",value:function(e){e&&e.makeNextPage&&this.setState({activeComponent:e.makeNextPage()})}},{key:"render",value:function(){return Object(f.jsx)(h.a,{theme:W,children:Object(f.jsxs)("div",{className:"app-container",children:[Object(f.jsx)(g,{}),Object(f.jsx)(R,{elabService:this.elabService}),this.state.activeComponent]})})}}]),n}(i.a.Component);n(163),n(164);s.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(z,{})}),document.getElementById("root"))}},[[165,1,2]]]);
//# sourceMappingURL=main.5d93f9ee.chunk.js.map